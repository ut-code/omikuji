<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./style.css" />
    <title>オリジナルアプリ作成画面</title>
  </head>
  <body>
    <div class="wrapper">
      <div class="edit-box">
        <h1 id="editor-title">オリジナルアプリを作ろう！</h1>
        <table>
          <tr>
            <td>タイトル</td>
            <td>
              <input
                type="text"
                id="title-input"
                placeholder="アプリのタイトルを入力"
              />
            </td>
          </tr>
          <tr>
            <td>説明文</td>
            <td>
              <input
                type="text"
                id="caption-input"
                placeholder="アプリの説明を入力"
              />
            </td>
          </tr>
        </table>
        <div><button id="reflect-button">反映</button></div>
        <table>
          <tr>
            <td>[おみくじ]のテンプレート</td>
            <td><button id="add-omikuji-button">追加</button></td>
            <td><button id="remove-omikuji-button">削除</button></td>
          </tr>
        </table>
        <!-- <div id="download-section">
          <h3>ダウンロード</h3>
          <p>※現時点ではプレビューと全く関係ないファイル</p>
        </div> -->
        <div id="hidden-templates">
          <div id="omikuji-template">
            <div class="img-box">
              <img
                id="omikuji-image"
                src="./sample/img/omikuji-box.png"
                alt="おみくじの箱"
              />
            </div>
            <button id="omikuji-button">おみくじを引く</button>
            <script>
              const omikujiButton = document.getElementById("omikuji-button");
              const omikujiImage = document.getElementById("omikuji-image");

              omikujiButton.onclick = () => {
                const r = Math.random();
                if (r < 0.3) {
                  omikujiImage.src = "./sample/img/omikuji_daikichi.png";
                  setTimeout(() => {
                    omikujiImage.src = "./sample/img/omikuji-box.png";
                  }, 1000);
                } else if (r < 0.7) {
                  omikujiImage.src = "./sample/img/omikuji_kichi.png";
                  setTimeout(() => {
                    omikujiImage.src = "./sample/img/omikuji-box.png";
                  }, 1000);
                } else {
                  omikujiImage.src = "./sample/img/omikuji_kyou.png";
                  setTimeout(() => {
                    omikujiImage.src = "./sample/img/omikuji-box.png";
                  }, 1000);
                }
              };
            </script>
          </div>
        </div>
        <a href="./sample/">サンプルページ(作業用)</a>
      </div>
      <div class="preview-box">
        <h2>プレビュー</h2>
        <iframe
          src="./preview.html"
          width="312px"
          height="675px"
          id="iframe-elem"
        ></iframe>
      </div>
    </div>
    <script type="module" src="./index.js"></script>
  </body>
</html>
